{% extends "base.html" %}

{% block content%}
{% load static %}
{% include 'navbar.html' %}

{% if request.username%}
<h1>Hello, {{request.username}}</h1>
{% endif %}
<!--  -->

<div class="row ">
    {% for product in all_products %}
    <div class="col-sm-4 ">

        <p>{{ product.name }}</p>
        <a href="{% url 'product' product.id %}">
            <img class='img-fluid' src={{ product.image_url.url }} alt="image-product" />
        </a>
        <p class="text-product">{{ product.price }}</p>
        {% if product.descount > 0 %}
        <p>{{product.descount}} % </p>
        {% endif %}

    </div>

    {% endfor %}
</div>
<div>
    <form method="get">
        <p><b>Price:</b>{{filters.form.price }}</p>
        <p><b>Mark:</b>{{filters.form.category }}</p>
        <p><b>Category:</b>{{filters.form.mark }}</p>
        <button class="btn" type="submit">Search</button>
    </form>
<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
      
        <a href="?page={{ page_obj.previous_page_number }}">Back</a>
        {% endif %}
      
        <span class="current">
          {% for page in paginator.page_range %}
            <a href="?page={{page}}">{{ page }}</a>
           {% endfor %} 
        </span>

        {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">next</a>
        <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>
{% endblock %}